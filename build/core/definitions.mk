ifeq ($(JAVA_NOT_REQUIRED),true)
# MAKEFILE_LIST variable includes a list of makefile files appended
# from `include` directive, use it here to find out the current
# relative directory
DEVICE_BUILD_SYSTEM := $(TOPDIR)$(dir $(lastword $(MAKEFILE_LIST)))

# omit java build commands as we don't need them at all
BUILD_JAVA_LIBRARY := $(DEVICE_BUILD_SYSTEM)null.mk
BUILD_STATIC_JAVA_LIBRARY := $(DEVICE_BUILD_SYSTEM)null.mk
BUILD_PACKAGE := $(DEVICE_BUILD_SYSTEM)null.mk
BUILD_HOST_JAVA_LIBRARY := $(DEVICE_BUILD_SYSTEM)null.mk
BUILD_HOST_STATIC_JAVA_LIBRARY := $(DEVICE_BUILD_SYSTEM)null.mk

# override build script to rewrite build rules
ANDROID_BUILD_STATIC_LIBRARY := $(BUILD_STATIC_LIBRARY)
ANDROID_BUILD_SHARED_LIBRARY := $(BUILD_SHARED_LIBRARY)
ANDROID_BUILD_EXECUTABLE := $(BUILD_EXECUTABLE)
ANDROID_BUILD_HOST_STATIC_LIBRARY := $(BUILD_HOST_STATIC_LIBRARY)
ANDROID_BUILD_HOST_SHARED_LIBRARY := $(BUILD_HOST_SHARED_LIBRARY)
ANDROID_BUILD_HOST_EXECUTABLE := $(BUILD_HOST_EXECUTABLE)

BUILD_SHARED_LIBRARY := $(DEVICE_BUILD_SYSTEM)shared_library.mk
BUILD_STATIC_LIBRARY := $(DEVICE_BUILD_SYSTEM)static_library.mk
BUILD_EXECUTABLE := $(DEVICE_BUILD_SYSTEM)executable.mk

BUILD_HOST_SHARED_LIBRARY := $(DEVICE_BUILD_SYSTEM)host_shared_library.mk
BUILD_HOST_STATIC_LIBRARY := $(DEVICE_BUILD_SYSTEM)host_static_library.mk
BUILD_HOST_EXECUTABLE := $(DEVICE_BUILD_SYSTEM)host_executable.mk
endif
